extends ../layout

append head
    script(type='text/javascript').
        window.onload = function() {
            $('#confirm-delete').on('show.bs.modal', function(e) {
                $(this).find('.btn-ok').attr('href', $(e.relatedTarget).data('href'));
            });
        };

append body
    .container
        .panel.panel-default
            .panel-heading
                h3.panel-title Users
            table.table.table-bordered.table-hover
                thead
                    th ID
                    th Username
                    th First Name
                    th Last Name
                    th Manage
                each user in users
                    tr
                        td= user.id
                        td= user.username
                        td= user.firstname
                        td= user.lastname
                        td
                            .btn-group
                                a.btn.btn-primary(role='button' href='/users/edit/' + user.username) Edit
                                button.btn.btn-danger(type='button' data-href='/users/delete/' + user.username data-toggle="modal" data-target='#confirm-delete') Delete
        #confirm-delete.modal.fade(role='dialog')
            .modal-dialog
                .modal-content
                    .modal-header
                        button.close(type='button', data-dismiss='modal') Ã—
                        h4.modal-title Delete Confirmation
                    .modal-body
                        p Are you sure you want to delete this user? This action is irreversible.
                    .modal-footer
                        button.btn.btn-default(type='button', data-dismiss='modal') Cancel
                        a.btn.btn-danger.btn-ok Delete
